<!DOCTYPE HTML>
<html lang="zh_CN" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>依赖管理.md - JAVA笔记库</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">JAVA笔记库</h1>

                    <div class="right-buttons">

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="/note-service/java/infisearch_assets/search-ui-light.css">
<style>.light .infi-root,
.rust .infi-root,
.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-shadow: none;
    --infi-border: 3px solid var(--table-header-bg);
    --infi-bg: var(--bg);
    --infi-triangle-bg: var(--table-header-bg);
    --infi-item-box-shadow: 0 1px 5px rgba(196, 192, 187, 0.8);
    --infi-title-fg: var(--fg);
    --infi-title-hover-fg: var(--fg);
    --infi-title-hover-bg: var(--table-header-bg);
    --infi-title-border-bottom-hover: 2px solid var(--table-header-bg);
    --infi-heading-fg: var(--fg);
    --infi-heading-hover-fg: var(--fg);
    --infi-body-fg: var(--fg);
    --infi-body-hover-fg: var(--fg);
    --infi-sub-bg: var(--bg);
    --infi-highlight: var(--search-mark-bg);
    --infi-highlight-bg: none;
    --infi-header-fg: var(--fg);
    --infi-checkbox-bg: #f8f8f8;
    --infi-checkbox-checked-bg: #fff;
    --infi-checkbox-border: #414141;
    --infi-filter-header-active: var(--infi-title-bg);
    --infi-error-fg: var(--fg);
    --infi-fine-print-fg: var(--fg);
    --infi-loading-bg: var(--fg);
    --infi-loading-secondary-bg: var(--fg);
    --infi-load-more-fg: var(--infi-title-fg);
    --infi-load-more-bg: var(--infi-title-bg);
    --infi-load-more-hover-fg: var(--infi-title-hover-fg);
    --infi-load-more-hover-bg: var(--infi-title-hover-bg);
    --infi-scrollbar-bg: none;
    --infi-scrollbar-thumb-bg: var(--sidebar-non-existant);
    --infi-fs-button-input-fg: var(--searchbar-shadow-color);
    --infi-fs-border: 3px solid var(--sidebar-bg);
    --infi-fs-box-shadow: none;
    --infi-fs-header-bg: var(--sidebar-bg);
    --infi-fs-header-box-shadow: none;
    --infi-tip-table-header-border: var(--table-border-color);
    --infi-tip-table-border: transparent;
    --infi-tip-table-alternate: var(--table-alternate-bg);
    --infi-tip-bg: var(--sidebar-bg);
    --infi-tip-fg: var(--sidebar-fg);
    --infi-tip-code-fg: var(--inline-code-color);
    --infi-tip-code-bg: transparent;
    --infi-tip-icon-bg: rgb(230, 230, 230);
    --infi-tip-icon-fg: rgb(80, 80, 80);
}

.light .infi-root {
    --infi-fs-header-close-fg: var(--searchresults-header-fg);
    --infi-fs-header-close-hover-fg: var(--fg);
}

.ayu .infi-root,
.rust .infi-root,
.coal .infi-root,
.navy .infi-root {
    --infi-fs-header-close-fg: var(--sidebar-fg);
    --infi-fs-header-close-hover-fg: white;
}

.ayu .infi-root,
.rust .infi-root {
    --infi-tip-code-fg: var(--search-mark-bg) !important;
    --infi-tip-icon-bg: rgb(200, 200, 200);
    --infi-tip-icon-fg: rgb(50, 50, 50);
}

.light .infi-root .infi-list-item.focus,
.rust .infi-root .infi-list-item.focus,
.coal .infi-root .infi-list-item.focus,
.navy .infi-root .infi-list-item.focus,
.ayu .infi-root .infi-list-item.focus {
    outline: 2px solid grey;
}

.light .infi-root,
.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-title-bg: var(--theme-hover);
    --infi-sub-hover-bg: var(--table-alternate-bg);
    --infi-title-border-bottom: 2px solid var(--theme-hover);
}

.light .infi-root {
    --infi-highlight: #82a6c4;
    --infi-sub-hover-bg: #ebebeb;
}

.rust .infi-root {
    --infi-highlight: #bc8e6a;

    --infi-tip-table-alternate: var(--sidebar-bg);
    --infi-title-bg: var(--table-header-bg);
    --infi-title-border-bottom: 2px solid var(--table-header-bg);

    --infi-sub-hover-bg: #c6bbb1;
    --infi-title-bg: #bbada1;
    --infi-title-border-bottom: 2px solid #bbada1;
    --infi-title-hover-fg: #000;
    --infi-title-hover-bg: #a19488;
    --infi-title-border-bottom-hover: 2px solid #a19488;
    --infi-body-hover-fg: #1e1e1e;
    --infi-heading-hover-fg: #1e1e1e;
}

.coal .infi-root {
    --infi-highlight: #496c8a;
    --infi-sub-hover-bg: #272a2b;
}

.infi-theme .infi-root .infi-tip-item code,
.rust .infi-root .infi-tip-item code {
    color: var(--infi-tip-code-fg) !important;;
}

.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-item-box-shadow: 0 1px 5px rgb(50, 50, 50);
    --infi-fs-input-fg: var(--fg);
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
    --infi-key-fg: #fff;
    --infi-key-bg: #7d7d7d;
    --infi-checkbox-bg: #313233;
    --infi-checkbox-checked-bg: #424243;
    --infi-checkbox-border: #525354;
}

.rust .infi-root {
    --infi-fs-input-fg: var(--sidebar-fg);
    --infi-fs-input-bg: #29201d;
    --infi-fs-input-border: 2px solid #584d4a;
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
}

.coal .infi-root {
    --infi-fs-input-bg: #1d1f21;
    --infi-fs-input-border: 2px solid #3e4144;
}

.navy .infi-root {
    --infi-fs-input-bg: #1e222f;
    --infi-fs-input-border: 2px solid #3d4252;
    --infi-sub-hover-bg: #242734;
}

.ayu .infi-root {
    --infi-fs-input-fg: var(--fg);
    --infi-fs-input-bg: #2b3035;
    --infi-fs-input-border: 2px solid #43474c;
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
    --infi-sub-hover-bg: #282e35;
}

#infi-search {
    width: 100%;
    border-radius: 3px;
    box-sizing: border-box;
    padding: 10px 16px;
    border: 1px solid var(--searchbar-border-color);
    background: var(--searchbar-bg);
    color: var(--searchbar-fg);
}

#infi-search:focus:not(.infi-button-input) {
    box-shadow: 0 0 3px var(--searchbar-shadow-color);
}

#infi-search.infi-button-input {
    width: 100px;
}

#infi-search.infi-button-input::placeholder {
    position: relative;
    left: 14px;
}

#infi-search.infi-button-input:hover {
    transition: 0.3s ease-out;
    background: var(--infi-fs-button-input-bg) !important;
    outline: 2px solid var(--infi-fs-button-input-bg);
}

#infi-search.infi-button-input:hover::placeholder {
    color: var(--infi-fs-button-input-fg) !important;
}

@media print {
    #infi-search {
        display: none;
    }
}

#infisearch-mdbook-target {
    position: relative;
}

/*
 * For this plugin, don't show the controls until there is a query.
 */
#infisearch-mdbook-target.infi-empty-input > * {
    display: none;
}

.infi-root:not(.infi-fs-root) {
    display: block;
}

.light .infi-root .infi-title::after,
.rust .infi-root .infi-title::after,
.coal .infi-root .infi-title::after,
.navy .infi-root .infi-title::after,
.ayu .infi-root .infi-title::after {
    content: none;
    display: none;
}

.infi-header {
    padding-bottom: 9px;
}

.infi-load-more {
    padding: 7px 15px;
}
</style>
<p><input
    type="search"
    id="infi-search"
    placeholder="Search this book ..."
/></p>
<p><span style="font-weight: 600;"><!--preload weight 600--></span></p>
<div id="infisearch-mdbook-target"></div>
<h1 id="maven-ivy-gradle-and-sbt-artifacts"><a class="header" href="#maven-ivy-gradle-and-sbt-artifacts">Maven, Ivy, Gradle, and SBT Artifacts</a></h1>
<p>Log4j 2 分为 API 和实现（核心），其中 API 提供应用程序应编码到的接口。严格来说，Log4j 核心仅在运行时需要，而在编译时不需要。</p>
<p>但是，下面我们将 Log4j 核心列为编译时依赖项，以改善自定义插件的启动时间，因为它提供了一个注释处理器，可生成元数据文件来缓存插件信息以及编译所需的代码以创建自定义插件。</p>
<h1 id="using-log4j-in-your-apache-maven-build"><a class="header" href="#using-log4j-in-your-apache-maven-build">Using Log4j in your Apache Maven build</a></h1>
<pre><code class="language-xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h1 id="using-log4j-in-your-apache-ivy-build"><a class="header" href="#using-log4j-in-your-apache-ivy-build">Using Log4j in your Apache Ivy build</a></h1>
<p>To build with <a href="https://ant.apache.org/ivy/">Apache Ivy</a>, add the dependencies listed below to your ivy.xml file.</p>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-api" rev="2.14.1" /&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-core" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<h1 id="using-log4j-in-your-gradle-build"><a class="header" href="#using-log4j-in-your-gradle-build">Using Log4j in your Gradle build</a></h1>
<p>To build with <a href="https://gradle.org/">Gradle</a>, add the dependencies listed below to your build.gradle file.</p>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.14.1'
  compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.14.1'
}
</code></pre>
<h1 id="using-log4j-in-your-sbt-build"><a class="header" href="#using-log4j-in-your-sbt-build">Using Log4j in your SBT build</a></h1>
<p>To build with <a href="http://www.scala-sbt.org/">SBT</a>, add the dependencies listed below to your build.sbt file.</p>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-api" % "2.14.1"
libraryDependencies += "org.apache.logging.log4j" % "log4j-core" % "2.14.1"
</code></pre>
<h1 id="bill-of-material"><a class="header" href="#bill-of-material">Bill of Material</a></h1>
<p>To keep your Log4j module versions in sync with each other, a BOM pom.xml file is provided for your convenience. To use this with <a href="https://maven.apache.org/">Maven</a>, add the dependency listed below to your pom.xml file. When you specify the version identifier in this section, you don’t have to specify the version in your <dependencies/> section.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
      &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;
      &lt;version&gt;2.14.1&lt;/version&gt;
      &lt;scope&gt;import&lt;/scope&gt;
      &lt;type&gt;pom&lt;/type&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
</code></pre>
<p>To use this with Gradle, an additional <a href="https://github.com/spring-gradle-plugins/dependency-management-plugin">Gradle plugin</a> is required for dependency management functionality.</p>
<p>build.gradle</p>
<pre><code>plugins {
  id 'io.spring.dependency-management' version '1.0.1.RELEASE'
}

dependencyManagement {
  imports {
    mavenBom 'org.apache.logging.log4j:log4j-bom:2.14.1'
  }
}

dependencies {
  compile 'org.apache.logging.log4j:log4j-api'
  compile 'org.apache.logging.log4j:log4j-core'
  // etc.
}
</code></pre>
<h1 id="optional-components"><a class="header" href="#optional-components">Optional Components</a></h1>
<p>可选组件</p>
<h2 id="log4j-1x-api-bridge"><a class="header" href="#log4j-1x-api-bridge">Log4j 1.x API Bridge</a></h2>
<p>If existing components use Log4j 1.x and you want to have this logging routed to Log4j 2, then remove any log4j 1.x dependencies and add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-1.2-api" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-1.2-api', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-1.2-api" % "2.14.1"
</code></pre>
<h2 id="apache-commons-logging-bridge"><a class="header" href="#apache-commons-logging-bridge">Apache Commons Logging Bridge</a></h2>
<p>If existing components use Apache Commons Logging 1.x and you want to have this logging routed to Log4j 2, then add the following but do not remove any Commons Logging 1.x dependencies.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-jcl" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-jcl', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-jcl" % "2.14.1"
</code></pre>
<h2 id="slf4j-bridge"><a class="header" href="#slf4j-bridge">SLF4J Bridge</a></h2>
<p>If existing components use SLF4J and you want to have this logging routed to Log4j 2, then add the following but do not remove any SLF4J dependencies.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-slf4j-impl" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-slf4j-impl', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-slf4j-impl" % "2.14.1"
</code></pre>
<h2 id="jul-adapter"><a class="header" href="#jul-adapter">JUL Adapter</a></h2>
<p>If existing components use Java Util Logging and you want to have this logging routed to Log4j 2, then add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-jul&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-jul" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-jul', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-jul" % "2.14.1"
</code></pre>
<h2 id="web-servlet-support"><a class="header" href="#web-servlet-support">Web Servlet Support</a></h2>
<p>为了正确支持和处理 Web 应用程序的 ClassLoader 环境和容器生命周期，需要一个额外的模块。</p>
<p>该模块仅在运行时需要。</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-web" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-web', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-web" % "2.14.1"
</code></pre>
<h2 id="tag-library"><a class="header" href="#tag-library">Tag Library</a></h2>
<p>Log4j 日志标记库创建了在不使用 Java 脚本的情况下在 JSP 中插入日志语句的功能。</p>
<p>它使用标准的 Log4j 2 API 根据您的 Log4j 配置记录消息。</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-taglib&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-taglib" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-taglib', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-taglib" % "2.14.1"
</code></pre>
<h2 id="apache-flume-appender"><a class="header" href="#apache-flume-appender">Apache Flume Appender</a></h2>
<p>The Flume Appender allows applications to send events to Flume Agents.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-flume-ng&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-flume-ng" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-flume-ng', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-flume-ng" % "2.14.1"
</code></pre>
<h2 id="log4j-to-slf4j-adapter"><a class="header" href="#log4j-to-slf4j-adapter">Log4j to SLF4J Adapter</a></h2>
<p>Log4j 2 到 SLF4J 适配器允许将编码到 Log4j 2 API 的应用程序路由到 SLF4J。</p>
<p>使用此适配器可能会导致一些性能损失，因为必须先格式化 Log4j 2 消息才能将它们传递给 SLF4J。</p>
<p>使用时，SLF4J Bridge 不能在类路径上。</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-to-slf4j" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-to-slf4j', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-to-slf4j" % "2.14.1"
</code></pre>
<h3 id="couchdb"><a class="header" href="#couchdb">CouchDB</a></h3>
<p>If your configuration uses the NoSQL CouchDB appender, then add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-couchdb&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-couchdb" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-couchdb', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-couchdb" % "2.14.1"
</code></pre>
<h3 id="mongodb"><a class="header" href="#mongodb">MongoDB</a></h3>
<p>If your configuration uses the NoSQL MongoDB appender, then add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-mongodb&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-mongodb" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-mongodb', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-mongodb" % "2.14.1"
</code></pre>
<h3 id="cassandra"><a class="header" href="#cassandra">Cassandra</a></h3>
<p>If your configuration uses the Cassandra appender, then add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-cassandra&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-cassandra" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-cassandra', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-cassandra" % "2.14.1"
</code></pre>
<h3 id="io-streams"><a class="header" href="#io-streams">IO Streams</a></h3>
<p>Log4j IO Streams allow applications to have data that is written to an OutputStream or a Writer be redirected to a Logger, or have data that is read from an InputStream or a Reader be wiretapped by a Logger. To use IO Streams, add the following.</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-iostreams&lt;/artifactId&gt;
    &lt;version&gt;2.14.1&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-iostreams" rev="2.14.1" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-iostreams', version: '2.14.1'
}
</code></pre>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" % "log4j-iostreams" % "2.14.1"
</code></pre>
<h3 id="scala-api"><a class="header" href="#scala-api">Scala API</a></h3>
<p>A convenient Scala wrapper for the Logger API. SBT users can add the following to their build.sbt:</p>
<p>build.sbt</p>
<pre><code>libraryDependencies += "org.apache.logging.log4j" %% "log4j-api-scala" % "11.0"
</code></pre>
<p>Maven, Ivy, and Gradle users need to add the Scala version to the artifact name.</p>
<p>Scala 2.12 users can use the following:</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-api-scala_2.12&lt;/artifactId&gt;
    &lt;version&gt;11.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-api-scala_2.12" rev="11.0" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-api-scala_2.12', version: '11.0'
}
</code></pre>
<p>Scala 2.11 users can use the following:</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-api-scala_2.11&lt;/artifactId&gt;
    &lt;version&gt;11.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-api-scala_2.11" rev="11.0" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-api-scala_2.11', version: '11.0'
}
</code></pre>
<p>Scala 2.10 users can use the following:</p>
<p>pom.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j-api-scala_2.10&lt;/artifactId&gt;
    &lt;version&gt;11.0&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>ivy.xml</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency org="org.apache.logging.log4j" name="log4j-api-scala_2.10" rev="11.0" /&gt;
&lt;/dependencies&gt;
</code></pre>
<p>build.gradle</p>
<pre><code>dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-api-scala_2.10', version: '11.0'
}
</code></pre>
<h2 id="snapshot-builds"><a class="header" href="#snapshot-builds">Snapshot builds</a></h2>
<p>您可以使用 Maven 存储库 https://repository.apache.org/snapshots 和当前的 SNAPSHOT 版本访问最新的开发快照。</p>
<p>通常，无论 Log4j 的下一个实际版本是什么，master 分支都会使用下一个补丁版本作为其快照版本。</p>
<p>例如，如果最新版本是 2.0，那么 master 将使用 2.0.1-SNAPSHOT 版本。</p>
<p>始终按照源存储库页面中的说明在 master 分支中使用 pom.xml 进行验证。</p>
<h3 id="maven"><a class="header" href="#maven">Maven</a></h3>
<p>Maven users can add the following to their pom.xml to enable snapshots:</p>
<pre><code>&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;apache.snapshots&lt;/id&gt;
    &lt;name&gt;Apache Snapshot Repository&lt;/name&gt;
    &lt;url&gt;https://repository.apache.org/snapshots&lt;/url&gt;
    &lt;releases&gt;
      &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/releases&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre>
<h3 id="gradle"><a class="header" href="#gradle">Gradle</a></h3>
<p>Gradle users can add the following to their build.gradle to enable snapshots:</p>
<pre><code>repositories {
  mavenCentral()
  maven { url 'https://repository.apache.org/snapshots' }
}
</code></pre>
<h3 id="sbt"><a class="header" href="#sbt">SBT</a></h3>
<p>SBT users can add the following to their build.sbt to enable snapshots:</p>
<pre><code>resolvers += "Apache Snapshot Repository" at "https://repository.apache.org/snapshots"
</code></pre>
<script src="/note-service/java/infisearch_assets/search-ui.chinese.bundle.js" type="text/javascript" charset="utf-8"></script>
<script src="/note-service/java/infisearch_assets/mark.min.js" type="text/javascript" charset="utf-8"></script>
<script>
const base_url = '/note-service/java/';
const mode = 'target';
infisearch.init({
  searcherOptions: {
    url: base_url + 'infisearch_output/',
  },
  uiOptions: {
    mode,
    dropdownAlignment: 'bottom-start',
    target: document.getElementById('infisearch-mdbook-target'),
    fsButtonPlaceholder: 'Search',
    sourceFilesUrl: base_url,
    resultsRenderOpts: {
      searchedTermsParam: 'search',
    },
    multiSelectFilters: [
      { fieldName: 'partTitle', displayName: 'Section', defaultOptName: 'None' },
    ],
  },
});

document.getElementById('infi-search').addEventListener('keydown', (ev) => {
  if (['ArrowLeft', 'ArrowRight'].includes(ev.key)) {
    ev.stopPropagation(); // used in global listener to change pages
    return;
  }
});

if (window.location.search) {
  // Adapted from the original searcher.js for mdbook
  // https://github.com/rust-lang/mdBook/blob/master/src/theme/searcher/searcher.js
  const target = document.getElementById('content');
  const marker = new Mark(target);

  function doSearchOrMarkFromUrl() {
    // Check current URL for search request
    var url = new URL(window.location.href);
    var urlParams = new URLSearchParams(url.search);

    if (urlParams.has('search')) {
      var words = JSON.parse(decodeURIComponent(urlParams.get('search')));
      marker.mark(words);

      var markers = document.querySelectorAll('mark');
      function hide() {
        for (var i = 0; i < markers.length; i++) {
          markers[i].classList.add('fade-out');
          window.setTimeout(function () { marker.unmark(); }, 300);
        }
      }
      for (var i = 0; i < markers.length; i++) {
        markers[i].addEventListener('click', hide);
      }
    }
  }
  doSearchOrMarkFromUrl();
}
</script>
<p><span data-infisearch-part-title="未分类"></span></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../19.日志/log4j2/lookups.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../19.日志/SL4j.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../19.日志/log4j2/lookups.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../19.日志/SL4j.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>



        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
