<!DOCTYPE HTML>
<html lang="zh_CN" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RollingFileAppender - Java</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="/note/favicon.svg">
        <link rel="shortcut icon" href="/note/favicon.png">
        <link rel="stylesheet" href="/note/css/variables.css">
        <link rel="stylesheet" href="/note/css/general.css">
        <link rel="stylesheet" href="/note/css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/highlight.css">
        <link rel="stylesheet" href="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/tomorrow-night.css">
        <link rel="stylesheet" href="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../../index.html">Java笔记库</a></li><li class="chapter-item affix "><li class="part-title">java基础</li><li class="chapter-item "><a href="../../../1.java基础_代理/index.html">代理</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../1.java基础_代理/CGLIB.html">CGLIB</a></li><li class="chapter-item "><a href="../../../1.java基础_代理/cglib的几种Callback.html">cglib的几种Callback</a></li><li class="chapter-item "><a href="../../../1.java基础_代理/jdk动态代理.html">jdk动态代理</a></li></ol></li><li class="chapter-item "><div>对象拷贝</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../2.java基础_对象拷贝/mapstruct.html">mapstruct</a></li></ol></li><li class="chapter-item "><div>函数式编程</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../3.java基础_函数式编程/anyMatchAllMatch.html">anyMatchAllMatch</a></li><li class="chapter-item "><a href="../../../3.java基础_函数式编程/java函数式编程.html">java函数式编程</a></li><li class="chapter-item "><a href="../../../3.java基础_函数式编程/lamba表达式原理.html">lamba表达式原理</a></li><li class="chapter-item "><a href="../../../3.java基础_函数式编程/方法引用.html">方法引用</a></li><li class="chapter-item "><a href="../../../3.java基础_函数式编程/流操作.html">流操作</a></li></ol></li><li class="chapter-item "><div>Bean校验</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../4.java基础_Bean校验/javaValidated.html">javaValidated</a></li></ol></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/index.html">多线程与锁</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/JUC线程同步工具.html">JUC线程同步工具</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/LockSupport.html">LockSupport</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/java内存模型.html">java内存模型</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/java线程状态.html">java线程状态</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/java锁.html">java锁</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/jvm线程模型.html">jvm线程模型</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/关于多线程与并发编码的心得.html">关于多线程与并发编码的心得</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/线程操作.html">线程操作</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/线程池.html">线程池</a></li><li class="chapter-item "><div>基于AQS的同步工具</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/AQS.html">AQS</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/Condition条件等待.html">Condition条件等待</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/CountDownLatch.html">CountDownLatch</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/CyclicBarrier.html">CyclicBarrier</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/Lock锁接口.html">Lock锁接口</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/ReentrantLock.html">ReentrantLock</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/ReentrantReadWriteLock.html">ReentrantReadWriteLock</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/Semaphore.html">Semaphore</a></li><li class="chapter-item "><a href="../../../5.java基础_多线程与锁/基于AQS的同步工具/StampedLock.html">StampedLock</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/index.html">集合框架</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../6.java基础_集合框架/ArrayBlockingQueue.html">ArrayBlockingQueue</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/ArrayList.html">ArrayList</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/Collections工具类.html">Collections工具类</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/ConcurrentHashMap.html">ConcurrentHashMap</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/LinkedList与双向队列.html">LinkedList与双向队列</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/List.html">List</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/Map接口.html">Map接口</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/Queue与Deque.html">Queue与Deque</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/Set与LinkedHashMap.html">Set与LinkedHashMap</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/SynchronousQueue.html">SynchronousQueue</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/arraylist和linkedlist.html">arraylist和linkedlist</a></li><li class="chapter-item "><a href="../../../6.java基础_集合框架/hashMap.html">hashMap</a></li></ol></li><li class="chapter-item "><li class="part-title">jvm</li><li class="chapter-item "><div>jvm基础</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../7.jvm_jvm基础/GC后对象地址变化了HashCode如何保持不变.html">GC后对象地址变化了HashCode如何保持不变</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/JMM与volatile关键字.html">JMM与volatile关键字</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/JVMGC.html">JVMGC</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/JVM内存模型.html">JVM内存模型</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/JVM参数.html">JVM参数</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/JVM复制算法.html">JVM复制算法</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/javaUnsafe工具类与CAS.html">javaUnsafe工具类与CAS</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/java内存泄露与OOM.html">java内存泄露与OOM</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/java对象分析.html">java对象分析</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/java引用类型.html">java引用类型</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/类加载/index.html">类加载</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../7.jvm_jvm基础/类加载/类加载器.html">类加载器</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/类加载/类加载过程.html">类加载过程</a></li><li class="chapter-item "><a href="../../../7.jvm_jvm基础/类加载/线程上下文加载器.html">线程上下文加载器</a></li></ol></li></ol></li><li class="chapter-item "><div>jvm问题诊断与性能分析</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/MAT.html">MAT</a></li><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/javaCPU占用高的问题.html">javaCPU占用高的问题</a></li><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/java远程调试.html">java远程调试</a></li><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/优雅停服.html">优雅停服</a></li><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/元空间溢出.html">元空间溢出</a></li><li class="chapter-item "><a href="../../../8.jvm_jvm问题诊断与性能分析/排查内存溢出.html">排查内存溢出</a></li></ol></li><li class="chapter-item "><div>Arthas</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../9.jvm_Arthas/1.安装.html">安装</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/2.快速入门.html">快速入门</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/3.命令.html">命令</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/4.ArthasTunnel.html">ArthasTunnel</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/5.Idea插件.html">Idea插件</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/6.JavaAgent启动.html">JavaAgent启动</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/7.火焰图.html">火焰图</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/8.thread命令.html">thread命令</a></li><li class="chapter-item "><a href="../../../9.jvm_Arthas/9.trace.html">trace</a></li></ol></li><li class="chapter-item "><li class="part-title">spring</li><li class="chapter-item "><div>SpringFramework</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/0.spring容器启动总览.html">spring容器启动总览</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/1.spring容器启动-bean实例化流程.html">spring容器启动-bean实例化流程</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/2.SpringBean实例化过程.html">SpringBean实例化过程</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/3.Spring依赖注入与初始化.html">Spring依赖注入与初始化</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/4.SpringBean的生命周期.html">SpringBean的生命周期</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/5.SpringSchedule.html">SpringSchedule</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/ClassPathScanningCandidateComponentProvider.html">ClassPathScanningCandidateComponentProvider</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/PropertySource.html">PropertySource</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/Spring总结.html">Spring总结</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/applicationContext与BeanFactory的区别.html">applicationContext与BeanFactory的区别</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring杂项.html">spring杂项</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring组合注解.html">spring组合注解</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring解决循环依赖问题.html">spring解决循环依赖问题</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/postprocessor/index.html">postprocessor</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/index.html">spring-aop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop-cglib动态代理.html">SpringAop-cglib动态代理</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop-jdk动态代理.html">SpringAop-jdk动态代理</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop-涉及到的类.html">SpringAop-涉及到的类</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop-编程式代理.html">SpringAop-编程式代理</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop-自动代理.html">SpringAop-自动代理</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/SpringAop总结.html">SpringAop总结</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/aop包解析.html">aop包解析</a></li><li class="chapter-item "><div>AOP应用解析</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/AOP应用解析/Async异步.html">Async异步</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/AOP应用解析/依赖懒加载.html">依赖懒加载</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-aop/AOP应用解析/缓存.html">缓存</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-bean定义/index.html">spring-bean定义</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/spring-bean定义/Bean定义.html">Bean定义</a></li></ol></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springBeanScope/index.html">springBeanScope</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springBeanScope/spring自定义可刷新的上下文.html">spring自定义可刷新的上下文</a></li></ol></li><li class="chapter-item "><div>springframework</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/MessageSource.html">MessageSource</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/spring-ioc.html">spring-ioc</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/springEL.html">springEL</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/spring代理.html">spring代理</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/基于Ant的路径匹配.html">基于Ant的路径匹配</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/字段格式化.html">字段格式化</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/属性源抽象.html">属性源抽象</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/类型转换.html">类型转换</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/资源抽象.html">资源抽象</a></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/springframework/配置全局日期格式化.html">配置全局日期格式化</a></li></ol></li><li class="chapter-item "><a href="../../../10.spring_SpringFramework/编程式注入类/index.html">编程式注入类</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../10.spring_SpringFramework/编程式注入类/AOP代理相关.html">AOP代理相关</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/index.html">SpringWebMvc</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/URI_Links.html">URI_Links</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/functional_endpoints.html">functional_endpoints</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/mvcannotation-driven注解的作用.html">mvcannotation-driven注解的作用</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/spring-mvc.html">spring-mvc</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/springMVC自定义参数解析注解.html">springMVC自定义参数解析注解</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/springMVC路径映射.html">springMVC路径映射</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/springMVC返回后.html">springMVC返回后</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/springMvcController配置.html">springMvcController配置</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/内置四种filters.html">内置四种filters</a></li><li class="chapter-item "><a href="../../../11.spring_SpringWebMvc/基于注解的控制器.html">基于注解的控制器</a></li></ol></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/index.html">SpringBoot</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springBoot资源处理.html">springBoot资源处理</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-HiKariCP连接池动态数据源配置.html">springboot-HiKariCP连接池动态数据源配置</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-devtools.html">springboot-devtools</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-元数据.html">springboot-元数据</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-多模块.html">springboot-多模块</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-日志.html">springboot-日志</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-自动配置原理.html">springboot-自动配置原理</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-过滤器.html">springboot-过滤器</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot-配置文件与jar分离.html">springboot-配置文件与jar分离</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/快速入门.html">快速入门</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/自定义springBootStarter.html">自定义springBootStarter</a></li><li class="chapter-item "><div>springboot配置文件加载</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot配置文件加载/propertySource原理.html">propertySource原理</a></li><li class="chapter-item "><a href="../../../12.spring_SpringBoot/springboot配置文件加载/默认加载原则.html">默认加载原则</a></li></ol></li><li class="chapter-item "><div>官方文档</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../12.spring_SpringBoot/官方文档/SpringApplication.html">SpringApplication</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../13.spring_SpringSecurity/index.html">SpringSecurity</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../13.spring_SpringSecurity/spring核心逻辑.html">spring核心逻辑</a></li></ol></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/index.html">SpringWebFlux</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/CoreFeatures.html">CoreFeatures</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/DispatcherHandler.html">DispatcherHandler</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/FunctionEndpoint.html">FunctionEndpoint</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/URILinks.html">URILinks</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/WebFluxConfig.html">WebFluxConfig</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/taskList.html">taskList</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/基于注解的控制器/index.html">基于注解的控制器</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/基于注解的控制器/HandlerMethod.html">HandlerMethod</a></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/基于注解的控制器/RequestMapping.html">RequestMapping</a></li></ol></li><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/源码分析/index.html">源码分析</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../14.spring_SpringWebFlux/源码分析/springBoot创建WebFlux分析.html">springBoot创建WebFlux分析</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../15.spring_SpringCloud/index.html">SpringCloud</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../15.spring_SpringCloud/Ribbon与Feign/index.html">Ribbon与Feign</a></li><li class="chapter-item "><div>服务注册与发现</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../15.spring_SpringCloud/服务注册与发现/nacos/index.html">nacos</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../15.spring_SpringCloud/服务注册与发现/nacos/nacos-with-spring.html">nacos-with-spring</a></li><li class="chapter-item "><a href="../../../15.spring_SpringCloud/服务注册与发现/nacos/nacos-with-spring-clound.html">nacos-with-spring-clound</a></li></ol></li></ol></li><li class="chapter-item "><div>网关</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../15.spring_SpringCloud/网关/springCloudGateway/index.html">springCloudGateway</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../15.spring_SpringCloud/网关/springCloudGateway/springCloud中的构造者模式.html">springCloud中的构造者模式</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../../16.spring_SpringCache/index.html">SpringCache</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../16.spring_SpringCache/1.基于申明式缓存.html">基于申明式缓存</a></li><li class="chapter-item "><a href="../../../16.spring_SpringCache/2.JCacheAnnotations.html">JCacheAnnotations</a></li><li class="chapter-item "><a href="../../../16.spring_SpringCache/3.XML的申明式缓存.html">XML的申明式缓存</a></li><li class="chapter-item "><a href="../../../16.spring_SpringCache/4.配置缓存库.html">配置缓存库</a></li></ol></li><li class="chapter-item "><a href="../../../17.spring_SpringDataRedis/index.html">SpringDataRedis</a></li><li class="chapter-item affix "><li class="part-title"></li><li class="chapter-item "><a href="../../../18.响应式编程/index.html">响应式编程</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/index.html">ProjectReactor</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/创建发布者.html">创建发布者</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/创建订阅.html">创建订阅</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/响应式流的动作.html">响应式流的动作</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/选择合适的操作符.html">选择合适的操作符</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/index.html">core-features</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/FluxAndMono.html">FluxAndMono</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/ProcessorOrSinks.html">ProcessorOrSinks</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/线程和调度.html">线程和调度</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/编程式创建序列.html">编程式创建序列</a></li><li class="chapter-item "><a href="../../../18.响应式编程/ProjectReactor/core-features/错误处理.html">错误处理</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../19.日志/index.html">日志</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../19.日志/JUL.html">JUL</a></li><li class="chapter-item "><a href="../../../19.日志/SL4j.html">SL4j</a></li><li class="chapter-item "><a href="../../../19.日志/日志处理进化史.html">日志处理进化史</a></li><li class="chapter-item expanded "><a href="../../../19.日志/log4j2/index.html">log4j2</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../19.日志/log4j2/Log4j2API.html">Log4j2API</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/log4j2-web.html">log4j2-web</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/lookups.html">lookups</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/依赖管理.html">依赖管理</a></li><li class="chapter-item expanded "><a href="../../../19.日志/log4j2/appenders/index.html">appenders</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/AsyncAppender.html">AsyncAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/CassandraAppender.html">CassandraAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/ConsoleAppender.html">ConsoleAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/FailoverAppender.html">FailoverAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/FileAppender.html">FileAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/JDBCAppender.html">JDBCAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/OutputStreamAppender.html">OutputStreamAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/RandomAccessFileAppender.html">RandomAccessFileAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/RewriteAppender.html">RewriteAppender</a></li><li class="chapter-item expanded "><a href="../../../19.日志/log4j2/appenders/RollingFileAppender.html" class="active">RollingFileAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/RollingRandomAccessFileAppender.html">RollingRandomAccessFileAppender</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/appenders/RoutingAppender.html">RoutingAppender</a></li></ol></li><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/index.html">layouts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/CSVLayouts.html">CSVLayouts</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/HTMLayouts.html">HTMLayouts</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/JSONLayout.html">JSONLayout</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/JSONTemplateLayouts.html">JSONTemplateLayouts</a></li><li class="chapter-item "><a href="../../../19.日志/log4j2/layouts/PatternLayout.html">PatternLayout</a></li></ol></li><li class="chapter-item "><a href="../../../19.日志/log4j2/log4j2配置/index.html">log4j2配置</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../19.日志/log4j2/log4j2配置/高级配置.html">高级配置</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><div>设计模式</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../20.设计模式/PipeLine.html">PipeLine</a></li></ol></li><li class="chapter-item "><a href="../../../22.Maven/index.html">Maven</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../22.Maven/AutoConfig插件.html">AutoConfig插件</a></li><li class="chapter-item "><a href="../../../22.Maven/Executions.html">Executions</a></li><li class="chapter-item "><a href="../../../22.Maven/MavenArcheType.html">MavenArcheType</a></li><li class="chapter-item "><a href="../../../22.Maven/maven.html">maven</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-Maven_Resources_Plugin.html">maven-Maven_Resources_Plugin</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-archiver.html">maven-archiver</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-assembly-plugin.html">maven-assembly-plugin</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-bom.html">maven-bom</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-profile.html">maven-profile</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-依赖管理.html">maven-依赖管理</a></li><li class="chapter-item "><a href="../../../22.Maven/maven-编译源码.html">maven-编译源码</a></li><li class="chapter-item "><a href="../../../22.Maven/maven中的生命周期、插件、目标.html">maven中的生命周期、插件、目标</a></li><li class="chapter-item "><a href="../../../22.Maven/maven打包方式.html">maven打包方式</a></li><li class="chapter-item "><a href="../../../22.Maven/maven聚合项目版本管理实践.html">maven聚合项目版本管理实践</a></li></ol></li><li class="chapter-item "><a href="../../../23.IO/index.html">IO</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../23.IO/Buffer.html">Buffer</a></li><li class="chapter-item "><a href="../../../23.IO/Channel.html">Channel</a></li><li class="chapter-item "><a href="../../../23.IO/LinuxIO模型演变.html">LinuxIO模型演变</a></li><li class="chapter-item "><a href="../../../23.IO/Selector（选择器）.html">Selector（选择器）</a></li><li class="chapter-item "><a href="../../../23.IO/主流IO模型.html">主流IO模型</a></li><li class="chapter-item "><a href="../../../23.IO/从IO到NIO个人理解.html">从IO到NIO个人理解</a></li><li class="chapter-item "><a href="../../../23.IO/字符集.html">字符集</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/index.html">FileIO(NIO-2.0)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/LinksSymbolicOtherwise.html">LinksSymbolicOtherwise</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/RandomAccessFiles.html">RandomAccessFiles</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/传统IO与NIO的API迁移.html">传统IO与NIO的API迁移</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/元数据管理.html">元数据管理</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/其他有用方法.html">其他有用方法</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/开发自定义文件系统.html">开发自定义文件系统</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/文件查找.html">文件查找</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/文件管理.html">文件管理</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/文件读写.html">文件读写</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/监控目录变化.html">监控目录变化</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/目录管理.html">目录管理</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/路径操作.html">路径操作</a></li><li class="chapter-item "><a href="../../../23.IO/FileIO(NIO-2.0)/遍历目录树.html">遍历目录树</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../24.Servlet规范/index.html">Servlet规范</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../24.Servlet规范/fitler.html">fitler</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/httpServlet接口.html">httpServlet接口</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/request.html">request</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/response.html">response</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/servletContext.html">servletContext</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/servlet初始化.html">servlet初始化</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/session.html">session</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/入门.html">入门</a></li><li class="chapter-item "><a href="../../../24.Servlet规范/注解与可插拔.html">注解与可插拔</a></li></ol></li><li class="chapter-item "><li class="part-title">单元测试</li><li class="chapter-item "><a href="../../../21.单元测试_JUNIT5/index.html">JUNIT5</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../21.单元测试_JUNIT5/ConsoleLaunch.html">ConsoleLaunch</a></li><li class="chapter-item "><a href="../../../21.单元测试_JUNIT5/DependencyMetadata.html">DependencyMetadata</a></li><li class="chapter-item "><div>writtingTest</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../21.单元测试_JUNIT5/writtingTest/Annotations.html">Annotations</a></li></ol></li></ol></li><li class="chapter-item "><li class="part-title">ORM</li><li class="chapter-item "><div>MyBatis</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../25.ORM_MyBatis/mybatis.html">mybatis</a></li><li class="chapter-item "><a href="../../../25.ORM_MyBatis/mybatis-插件开发.html">mybatis-插件开发</a></li><li class="chapter-item "><a href="../../../25.ORM_MyBatis/mybatis标签.html">mybatis标签</a></li><li class="chapter-item "><a href="../../../25.ORM_MyBatis/resultHandler.html">resultHandler</a></li><li class="chapter-item "><a href="../../../25.ORM_MyBatis/多结果集分页.html">多结果集分页</a></li></ol></li><li class="chapter-item "><a href="../../../26.ORM_JPA/index.html">JPA</a></li><li class="chapter-item affix "><li class="part-title">鉴权</li><li class="chapter-item "><div>Shiro</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../27.鉴权_Shiro/shiro频繁访问redis.html">shiro频繁访问redis</a></li></ol></li><li class="chapter-item "><li class="part-title">其他</li><li class="chapter-item "><a href="../../../28.其他_Security/index.html">Security</a></li><li class="chapter-item "><a href="../../../29.其他_JSR/index.html">JSR</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../29.其他_JSR/jar包规范.html">jar包规范</a></li></ol></li><li class="chapter-item "><div>JMH</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../30.其他_JMH/java基准测试.html">java基准测试</a></li></ol></li><li class="chapter-item "><div>JavaCommandLine</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../31.其他_JavaCommandLine/JAVA命令行工具.html">JAVA命令行工具</a></li></ol></li><li class="chapter-item "><div>分布式与微服务</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/JWT无状态Session.html">JWT无状态Session</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/一致性Hash.html">一致性Hash</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/分布式ID.html">分布式ID</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/分布式Session案.html">分布式Session案</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/分布式事务.html">分布式事务</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/分布式协调器-Zookeeper.html">分布式协调器-Zookeeper</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/分布式锁.html">分布式锁</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/接口幂等性.html">接口幂等性</a></li><li class="chapter-item "><a href="../../../32.其他_分布式与微服务/负载均衡.html">负载均衡</a></li></ol></li><li class="chapter-item "><a href="../../../33.其他_Graavml/index.html">Graavml</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div>安装</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../33.其他_Graavml/安装/Macos安装.html">Macos安装</a></li></ol></li></ol></li><li class="chapter-item "><div>未分类</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../50.其他_未分类/EasyRules.html">EasyRules</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/JavaLocalDate.html">JavaLocalDate</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/JavaSPI.html">JavaSPI</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/JavaUnsafe类.html">JavaUnsafe类</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/Java异常.html">Java异常</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/Java泛型的协变与逆变.html">Java泛型的协变与逆变</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/PO、VO、BO.html">PO、VO、BO</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/WeakCache.html">WeakCache</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/apacheUtils类.html">apacheUtils类</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/foreach语法糖.html">foreach语法糖</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/formatter.html">formatter</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/integer的比较问题.html">integer的比较问题</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/javaIdea调试.html">javaIdea调试</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/javaPererences工具.html">javaPererences工具</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/java中常见的语法糖.html">java中常见的语法糖</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/java优化指南.html">java优化指南</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/java各版本新特性.html">java各版本新特性</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/java序列化接口.html">java序列化接口</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/java模块化.html">java模块化</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/jdk1.8新特性.html">jdk1.8新特性</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/jdk与jre.html">jdk与jre</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/string常量池.html">string常量池</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/threadLocal.html">threadLocal</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/代码异味.html">代码异味</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/基于jdk1.8的Arrays.sort.html">基于jdk1.8的Arrays.sort</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/枚举.html">枚举</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/注解.html">注解</a></li><li class="chapter-item "><a href="../../../50.其他_未分类/类的关系.html">类的关系</a></li></ol></li><li class="chapter-item "><li class="part-title">源编程</li><li class="chapter-item "><a href="../../../34.源编程_AnnotationProcessor/index.html">AnnotationProcessor</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../34.源编程_AnnotationProcessor/TreeMarker.html">TreeMarker</a></li></ol></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/index.html">Javapoet</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../35.源编程_Javapoet/1.Code&ControlFlow.html">Code&ControlFlow</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/2.Placehold.html">Placehold</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/3.Methods.html">Methods</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/4.Constructors.html">Constructors</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/5.ParametersAndFields.html">ParametersAndFields</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/6.InterfacesAndEnums.html">InterfacesAndEnums</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/7.AnonymousInnerClasses.html">AnonymousInnerClasses</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/8.Annotations.html">Annotations</a></li><li class="chapter-item "><a href="../../../35.源编程_Javapoet/9.JavaDoc.html">JavaDoc</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">Java</h1>

                    <div class="right-buttons">

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="/note/java/infisearch_assets/search-ui-light.css">
<style>.light .infi-root,
.rust .infi-root,
.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-shadow: none;
    --infi-border: 3px solid var(--table-header-bg);
    --infi-bg: var(--bg);
    --infi-triangle-bg: var(--table-header-bg);
    --infi-item-box-shadow: 0 1px 5px rgba(196, 192, 187, 0.8);
    --infi-title-fg: var(--fg);
    --infi-title-hover-fg: var(--fg);
    --infi-title-hover-bg: var(--table-header-bg);
    --infi-title-border-bottom-hover: 2px solid var(--table-header-bg);
    --infi-heading-fg: var(--fg);
    --infi-heading-hover-fg: var(--fg);
    --infi-body-fg: var(--fg);
    --infi-body-hover-fg: var(--fg);
    --infi-sub-bg: var(--bg);
    --infi-highlight: var(--search-mark-bg);
    --infi-highlight-bg: none;
    --infi-header-fg: var(--fg);
    --infi-checkbox-bg: #f8f8f8;
    --infi-checkbox-checked-bg: #fff;
    --infi-checkbox-border: #414141;
    --infi-filter-header-active: var(--infi-title-bg);
    --infi-error-fg: var(--fg);
    --infi-fine-print-fg: var(--fg);
    --infi-loading-bg: var(--fg);
    --infi-loading-secondary-bg: var(--fg);
    --infi-load-more-fg: var(--infi-title-fg);
    --infi-load-more-bg: var(--infi-title-bg);
    --infi-load-more-hover-fg: var(--infi-title-hover-fg);
    --infi-load-more-hover-bg: var(--infi-title-hover-bg);
    --infi-scrollbar-bg: none;
    --infi-scrollbar-thumb-bg: var(--sidebar-non-existant);
    --infi-fs-button-input-fg: var(--searchbar-shadow-color);
    --infi-fs-border: 3px solid var(--sidebar-bg);
    --infi-fs-box-shadow: none;
    --infi-fs-header-bg: var(--sidebar-bg);
    --infi-fs-header-box-shadow: none;
    --infi-tip-table-header-border: var(--table-border-color);
    --infi-tip-table-border: transparent;
    --infi-tip-table-alternate: var(--table-alternate-bg);
    --infi-tip-bg: var(--sidebar-bg);
    --infi-tip-fg: var(--sidebar-fg);
    --infi-tip-code-fg: var(--inline-code-color);
    --infi-tip-code-bg: transparent;
    --infi-tip-icon-bg: rgb(230, 230, 230);
    --infi-tip-icon-fg: rgb(80, 80, 80);
}

.light .infi-root {
    --infi-fs-header-close-fg: var(--searchresults-header-fg);
    --infi-fs-header-close-hover-fg: var(--fg);
}

.ayu .infi-root,
.rust .infi-root,
.coal .infi-root,
.navy .infi-root {
    --infi-fs-header-close-fg: var(--sidebar-fg);
    --infi-fs-header-close-hover-fg: white;
}

.ayu .infi-root,
.rust .infi-root {
    --infi-tip-code-fg: var(--search-mark-bg) !important;
    --infi-tip-icon-bg: rgb(200, 200, 200);
    --infi-tip-icon-fg: rgb(50, 50, 50);
}

.light .infi-root .infi-list-item.focus,
.rust .infi-root .infi-list-item.focus,
.coal .infi-root .infi-list-item.focus,
.navy .infi-root .infi-list-item.focus,
.ayu .infi-root .infi-list-item.focus {
    outline: 2px solid grey;
}

.light .infi-root,
.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-title-bg: var(--theme-hover);
    --infi-sub-hover-bg: var(--table-alternate-bg);
    --infi-title-border-bottom: 2px solid var(--theme-hover);
}

.light .infi-root {
    --infi-highlight: #82a6c4;
    --infi-sub-hover-bg: #ebebeb;
}

.rust .infi-root {
    --infi-highlight: #bc8e6a;

    --infi-tip-table-alternate: var(--sidebar-bg);
    --infi-title-bg: var(--table-header-bg);
    --infi-title-border-bottom: 2px solid var(--table-header-bg);

    --infi-sub-hover-bg: #c6bbb1;
    --infi-title-bg: #bbada1;
    --infi-title-border-bottom: 2px solid #bbada1;
    --infi-title-hover-fg: #000;
    --infi-title-hover-bg: #a19488;
    --infi-title-border-bottom-hover: 2px solid #a19488;
    --infi-body-hover-fg: #1e1e1e;
    --infi-heading-hover-fg: #1e1e1e;
}

.coal .infi-root {
    --infi-highlight: #496c8a;
    --infi-sub-hover-bg: #272a2b;
}

.infi-theme .infi-root .infi-tip-item code,
.rust .infi-root .infi-tip-item code {
    color: var(--infi-tip-code-fg) !important;;
}

.coal .infi-root,
.navy .infi-root,
.ayu .infi-root {
    --infi-item-box-shadow: 0 1px 5px rgb(50, 50, 50);
    --infi-fs-input-fg: var(--fg);
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
    --infi-key-fg: #fff;
    --infi-key-bg: #7d7d7d;
    --infi-checkbox-bg: #313233;
    --infi-checkbox-checked-bg: #424243;
    --infi-checkbox-border: #525354;
}

.rust .infi-root {
    --infi-fs-input-fg: var(--sidebar-fg);
    --infi-fs-input-bg: #29201d;
    --infi-fs-input-border: 2px solid #584d4a;
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
}

.coal .infi-root {
    --infi-fs-input-bg: #1d1f21;
    --infi-fs-input-border: 2px solid #3e4144;
}

.navy .infi-root {
    --infi-fs-input-bg: #1e222f;
    --infi-fs-input-border: 2px solid #3d4252;
    --infi-sub-hover-bg: #242734;
}

.ayu .infi-root {
    --infi-fs-input-fg: var(--fg);
    --infi-fs-input-bg: #2b3035;
    --infi-fs-input-border: 2px solid #43474c;
    --infi-fs-input-focus-border: 2px solid #4f95cc;
    --infi-fs-input-focus-box-shadow: 0 0 5px -1px #63baff;
    --infi-sub-hover-bg: #282e35;
}

#infi-search {
    width: 100%;
    border-radius: 3px;
    box-sizing: border-box;
    padding: 10px 16px;
    border: 1px solid var(--searchbar-border-color);
    background: var(--searchbar-bg);
    color: var(--searchbar-fg);
}

#infi-search:focus:not(.infi-button-input) {
    box-shadow: 0 0 3px var(--searchbar-shadow-color);
}

#infi-search.infi-button-input {
    width: 100px;
}

#infi-search.infi-button-input::placeholder {
    position: relative;
    left: 14px;
}

#infi-search.infi-button-input:hover {
    transition: 0.3s ease-out;
    background: var(--infi-fs-button-input-bg) !important;
    outline: 2px solid var(--infi-fs-button-input-bg);
}

#infi-search.infi-button-input:hover::placeholder {
    color: var(--infi-fs-button-input-fg) !important;
}

@media print {
    #infi-search {
        display: none;
    }
}

#infisearch-mdbook-target {
    position: relative;
}

/*
 * For this plugin, don't show the controls until there is a query.
 */
#infisearch-mdbook-target.infi-empty-input > * {
    display: none;
}

.infi-root:not(.infi-fs-root) {
    display: block;
}

.light .infi-root .infi-title::after,
.rust .infi-root .infi-title::after,
.coal .infi-root .infi-title::after,
.navy .infi-root .infi-title::after,
.ayu .infi-root .infi-title::after {
    content: none;
    display: none;
}

.infi-header {
    padding-bottom: 9px;
}

.infi-load-more {
    padding: 7px 15px;
}
</style>
<p><input
    type="search"
    id="infi-search"
    placeholder="Search this book ..."
/></p>
<p><span style="font-weight: 600;"><!--preload weight 600--></span></p>
<div id="infisearch-mdbook-target"></div>
<h1 id="rollingfileappender"><a class="header" href="#rollingfileappender">RollingFileAppender</a></h1>
<p>RollingFileAppender 是一个 OutputStreamAppender，它写入 fileName 参数中命名的 File 并根据 <strong>TriggeringPolicy</strong> 和 <strong>RolloverPolicy</strong> 滚动文件</p>
<p>RollingFileAppender 使用 RollingFileManager（它扩展了 OutputStreamManager）来实际执行文件 I/O 并执行翻转。</p>
<p>虽然无法共享来自不同配置的 RolloverFileAppender，但如果 Manager 可访问，则可以共享 RollingFileManagers。</p>
<p>例如，servlet 容器中的两个 Web 应用程序可以有自己的配置，并且如果 Log4j 位于它们公共的 ClassLoader 中，则可以安全地写入同一个文件。</p>
<h1 id="triggeringpolicy-与rolloverstrategy"><a class="header" href="#triggeringpolicy-与rolloverstrategy">TriggeringPolicy 与RolloverStrategy</a></h1>
<ol>
<li>
<p>RollingFileAppender 需要一个 TriggeringPolicy 和一个 RolloverStrategy。</p>
</li>
<li>
<p>触发策略确定是否应该执行翻转，而 RolloverStrategy 定义应该如何完成翻转。</p>
</li>
<li>
<p>如果没有配置 RolloverStrategy，RollingFileAppender 将使用 DefaultRolloverStrategy。</p>
</li>
<li>
<p>从 log4j-2.5 开始，可以在 DefaultRolloverStrategy 中配置自定义删除操作以在翻转时运行。</p>
</li>
<li>
<p>从 2.8 开始，如果没有配置文件名，那么将使用 DirectWriteRolloverStrategy 而不是 DefaultRolloverStrategy。</p>
</li>
<li>
<p>从 log4j-2.9 开始，可以在 DefaultRolloverStrategy 中配置自定义 POSIX 文件属性视图操作以在翻转时运行，如果未定义，将从 RollingFileAppender 继承的 POSIX 文件属性视图将被应用。</p>
</li>
<li>
<p>RollingFileAppender 不支持文件锁定。</p>
</li>
</ol>
<h1 id="parameters"><a class="header" href="#parameters">Parameters</a></h1>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">append</td><td style="text-align: left">boolean</td><td style="text-align: left">When true - the default, records will be appended to the end of the file. When set to false, the file will be cleared before new records are written.</td></tr>
<tr><td style="text-align: left">bufferedIO</td><td style="text-align: left">boolean</td><td style="text-align: left">When true - the default, records will be written to a buffer and the data will be written to disk when the buffer is full or, if immediateFlush is set, when the record is written. File locking cannot be used with bufferedIO. Performance tests have shown that using buffered I/O significantly improves performance, even if immediateFlush is enabled.</td></tr>
<tr><td style="text-align: left">bufferSize</td><td style="text-align: left">int</td><td style="text-align: left">When bufferedIO is true, this is the buffer size, the default is 8192 bytes.</td></tr>
<tr><td style="text-align: left">createOnDemand</td><td style="text-align: left">boolean</td><td style="text-align: left">The appender creates the file on-demand. The appender only creates the file when a log event passes all filters and is routed to this appender. Defaults to false.</td></tr>
<tr><td style="text-align: left">filter</td><td style="text-align: left">Filter</td><td style="text-align: left">A Filter to determine if the event should be handled by this Appender. More than one Filter may be used by using a CompositeFilter.</td></tr>
<tr><td style="text-align: left">fileName</td><td style="text-align: left">String</td><td style="text-align: left">The name of the file to write to. If the file, or any of its parent directories, do not exist, they will be created.</td></tr>
<tr><td style="text-align: left">filePattern</td><td style="text-align: left">String</td><td style="text-align: left">归档日志文件的文件名模式。模式的格式取决于所使用的 RolloverPolicy。 .DefaultRolloverPolicy 将接受与 <a href="http://download.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a> 兼容的日期/时间模式和 或  %i 计算器. 该模式还支持运行时插值，因此任何 任何 Lookups (such as the <a href="http://logging.apache.org/log4j/2.x/manual/lookups.html#DateLookup">DateLookup</a>) can be included in the pattern.</td></tr>
<tr><td style="text-align: left">immediateFlush</td><td style="text-align: left">boolean</td><td style="text-align: left">When set to true - the default, each write will be followed by a flush. This will guarantee the data is written to disk but could impact performance.Flushing after every write is only useful when using this appender with synchronous loggers. Asynchronous loggers and appenders will automatically flush at the end of a batch of events, even if immediateFlush is set to false. This also guarantees the data is written to disk but is more efficient.</td></tr>
<tr><td style="text-align: left">layout</td><td style="text-align: left">Layout</td><td style="text-align: left">用于格式化 LogEvent 的布局。<br/><br/>如果未提供布局，则将使用“%m%n”的默认模式布局。</td></tr>
<tr><td style="text-align: left">name</td><td style="text-align: left">String</td><td style="text-align: left">The name of the Appender.</td></tr>
<tr><td style="text-align: left">policy</td><td style="text-align: left">TriggeringPolicy</td><td style="text-align: left">用于确定是否应发生翻转的策略。</td></tr>
<tr><td style="text-align: left">strategy</td><td style="text-align: left">RolloverStrategy</td><td style="text-align: left">用于确定存档文件的名称和位置的策略</td></tr>
<tr><td style="text-align: left">ignoreExceptions</td><td style="text-align: left">boolean</td><td style="text-align: left">The default is true, causing exceptions encountered while appending events to be internally logged and then ignored. When set to false exceptions will be propagated to the caller, instead. You must set this to false when wrapping this Appender in a <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#FailoverAppender">FailoverAppender</a>.</td></tr>
<tr><td style="text-align: left">filePermissions</td><td style="text-align: left">String</td><td style="text-align: left">File attribute permissions in POSIX format to apply whenever the file is created.Underlying files system shall support <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributeView.html">POSIX</a> file attribute view.Examples: rw------- or rw-rw-rw- etc...</td></tr>
<tr><td style="text-align: left">fileOwner</td><td style="text-align: left">String</td><td style="text-align: left">File owner to define whenever the file is created.Changing file's owner may be restricted for security reason and Operation not permitted IOException thrown. Only processes with an effective user ID equal to the user ID of the file or with appropriate privileges may change the ownership of a file if <a href="http://www.gnu.org/software/libc/manual/html_node/Options-for-Files.html">_POSIX_CHOWN_RESTRICTED</a> is in effect for path.Underlying files system shall support file <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileOwnerAttributeView.html">owner</a> attribute view.</td></tr>
<tr><td style="text-align: left">fileGroup</td><td style="text-align: left">String</td><td style="text-align: left">File group to define whenever the file is created.Underlying files system shall support <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributeView.html">POSIX</a> file attribute view.</td></tr>
</tbody></table>
</div>
<h1 id="triggering-policies"><a class="header" href="#triggering-policies">Triggering Policies</a></h1>
<h2 id="composite-triggering-policy"><a class="header" href="#composite-triggering-policy">Composite Triggering Policy</a></h2>
<p>CompositeTriggeringPolicy 组合了多个触发策略，如果任何配置的策略返回 true，则返回 true。</p>
<p>CompositeTriggeringPolicy 只需将其他策略包装在 Policies 元素中即可配置。</p>
<p>例如，以下 XML 片段定义了在 JVM 启动、日志大小达到 20 兆字节、以及当前日期不再与日志的开始日期匹配时滚动日志的策略。</p>
<pre><code class="language-xml">&lt;Policies&gt;
  &lt;OnStartupTriggeringPolicy /&gt;
  &lt;SizeBasedTriggeringPolicy size=&quot;20 MB&quot; /&gt;
  &lt;TimeBasedTriggeringPolicy /&gt;
&lt;/Policies&gt;
</code></pre>
<h2 id="cron-triggering-policy"><a class="header" href="#cron-triggering-policy">Cron Triggering Policy</a></h2>
<p>CronTriggeringPolicy 基于 cron 表达式触发翻转</p>
<h3 id="parameters-1"><a class="header" href="#parameters-1">Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">schedule</td><td style="text-align: left">String</td><td style="text-align: left">cron 表达式。该表达式与 Quartz 调度程序中允许的表达式相同。 See <a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/util/CronExpression.html">CronExpression</a> for a full description of the expression.</td></tr>
<tr><td style="text-align: left">evaluateOnStartup</td><td style="text-align: left">boolean</td><td style="text-align: left">启动时，cron 表达式将根据文件的最后修改时间戳进行评估。<br/>如果 cron 表达式指示在该时间和当前时间之间应该发生翻转，则文件将立即翻转。</td></tr>
</tbody></table>
</div>
<h2 id="onstartup-triggering-policy"><a class="header" href="#onstartup-triggering-policy">OnStartup Triggering Policy</a></h2>
<p>如果日志文件早于当前 JVM 的启动时间并且达到或超过最小文件大小，则 OnStartupTriggeringPolicy 策略会导致翻转。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">minSize</td><td style="text-align: left">long</td><td style="text-align: left">文件必须翻转的最小大小。<br/>无论文件大小如何，大小为零都会导致翻转。<br/>默认值为 1，这将防止滚动空文件。</td></tr>
</tbody></table>
</div>
<h2 id="sizebased-triggering-policy"><a class="header" href="#sizebased-triggering-policy">SizeBased Triggering Policy</a></h2>
<p>一旦文件达到指定的大小，SizeBasedTriggeringPolicy 会导致翻转。</p>
<p>大小可以以字节为单位指定，后缀为 KB、MB 或 GB，例如 20MB。</p>
<p>当与基于时间的触发策略结合使用时，文件模式必须包含 %i 否则目标文件将在每次翻转时被覆盖，因为 SizeBased 触发策略不会导致文件名中的时间戳值发生更改。</p>
<p>当在没有基于时间的触发策略的情况下使用时，SizeBased 触发策略将导致时间戳值发生变化。</p>
<h2 id="timebased-triggering-policy"><a class="header" href="#timebased-triggering-policy">TimeBased Triggering Policy</a></h2>
<p>一旦日期/时间模式不再适用于活动文件， TimeBasedTriggeringPolicy 会导致翻转。</p>
<p>此策略接受一个间隔属性，该属性指示基于时间模式和  一个boolean属性指示是否 应该调整间隔以使得下一次翻转发生在边界上。</p>
<h3 id="parameters-2"><a class="header" href="#parameters-2">Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">interval</td><td style="text-align: left">integer</td><td style="text-align: left">根据日期模式中最具体的时间单位，应多久进行一次翻转。.例如，日期模式以小时为最具体的项目，并且每 4 小时会发生 4 次翻转。. The default value is 1.</td></tr>
<tr><td style="text-align: left">modulate</td><td style="text-align: left">boolean</td><td style="text-align: left">指示是否应调整间隔以使下一次翻转发生在间隔边界上。. 例如，如果项目是小时，当前小时是凌晨 3 点，间隔是 4，那么第一次翻转将在凌晨 4 点发生，然后下一次翻转将在上午 8 点、中午、下午 4 点等发生。</td></tr>
<tr><td style="text-align: left">maxRandomDelay</td><td style="text-align: left">integer</td><td style="text-align: left">Indicates the maximum number of seconds to randomly delay a rollover. By default, this is 0 which indicates no delay. This setting is useful on servers where multiple applications are configured to rollover log files at the same time and can spread the load of doing so across time.</td></tr>
</tbody></table>
</div>
<h1 id="rollover-strategies"><a class="header" href="#rollover-strategies">Rollover Strategies</a></h1>
<h2 id="default-rollover-strategy"><a class="header" href="#default-rollover-strategy">Default Rollover Strategy</a></h2>
<p>默认翻转策略接受日期/时间模式和一个在整数 </p>
<p>上述属性在 RollingFileAppender  本身上指定该</p>
<p>如果存在日期/时间模式，它将被当前的日期和时间值替换。</p>
<p>如果模式包含一个整数，它将在每次翻转时递增。</p>
<p>如果模式中同时包含日期/时间和整数，则整数将递增，直到日期/时间模式的结果发生变化。</p>
<p>如果文件模式以“.gz”、“.zip”、“.bz2”、“.deflate”、“.pack200”或“.xz”结尾，则生成的存档将使用与后缀匹配的压缩方案进行压缩</p>
<p>bzip2、Deflate、Pack200 和 XZ 格式需要 Apache Commons Compress。</p>
<p>此外，XZ 需要 XZ for Java。</p>
<p>该模式还可能包含可以在运行时解析的查找引用，如下例所示。</p>
<p>默认翻转策略支持三种递增计数器的变体。</p>
<p>假设 min 属性设置为 1，max 属性设置为 3，文件名为“foo.log”，文件名模式为“foo-%i.log”。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Number of rollovers</th><th style="text-align: left">Active output target</th><th style="text-align: left">Archived log files</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">foo.log</td><td style="text-align: left">-</td><td style="text-align: left">All logging is going to the initial file.</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-1.log</td><td style="text-align: left">在第一次翻转期间，foo.log 被重命名为 foo-1.log。一个新的 foo.log 文件被创建并开始写入。</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-2.log, foo-1.log</td><td style="text-align: left">在第二次翻转期间，foo.log 被重命名为 foo-2.log。<br />一个新的 foo.log 文件被创建并开始写入。</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-3.log, foo-2.log, foo-1.log</td><td style="text-align: left">在第三次翻转期间，foo.log 被重命名为 foo-3.log。一个新的 foo.log 文件被创建并开始写入。</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-3.log, foo-2.log, foo-1.log</td><td style="text-align: left">在第四次及以后的翻转中，foo-1.log被删除，foo-2.log被重命名为foo-1.log，foo-3.log被重命名为foo-2.log，foo.log被重命名为foo-3.日志。<br/>一个新的 foo.log 文件被创建并开始写入。</td></tr>
</tbody></table>
</div>
<p>相比之下，当 fileIndex 属性设置为“min”但所有其他设置都相同时，将执行“固定窗口”策略。</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Number of rollovers</th><th style="text-align: left">Active output target</th><th style="text-align: left">Archived log files</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">foo.log</td><td style="text-align: left">-</td><td style="text-align: left">All logging is going to the initial file.</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-1.log</td><td style="text-align: left">During the first rollover foo.log is renamed to foo-1.log. A new foo.log file is created and starts being written to.</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-1.log, foo-2.log</td><td style="text-align: left">During the second rollover foo-1.log is renamed to foo-2.log and foo.log is renamed to foo-1.log. A new foo.log file is created and starts being written to.</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-1.log, foo-2.log, foo-3.log</td><td style="text-align: left">During the third rollover foo-2.log is renamed to foo-3.log, foo-1.log is renamed to foo-2.log and foo.log is renamed to foo-1.log. A new foo.log file is created and starts being written to.</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">foo.log</td><td style="text-align: left">foo-1.log, foo-2.log, foo-3.log</td><td style="text-align: left">In the fourth and subsequent rollovers, foo-3.log is deleted, foo-2.log is renamed to foo-3.log, foo-1.log is renamed to foo-2.log and foo.log is renamed to foo-1.log. A new foo.log file is created and starts being written to.</td></tr>
</tbody></table>
</div>
<p>最后，从 2.8 版开始，如果 fileIndex 属性设置为“nomax”，那么最小值和最大值将被忽略，文件编号将增加 1，并且每次翻转都会有一个递增的更高值，没有最大文件数。</p>
<h3 id="parameters-3"><a class="header" href="#parameters-3">Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">fileIndex</td><td style="text-align: left">String</td><td style="text-align: left">If set to &quot;max&quot; (the default), files with a higher index will be newer than files with a smaller index. If set to &quot;min&quot;, file renaming and the counter will follow the Fixed Window strategy described above.</td></tr>
<tr><td style="text-align: left">min</td><td style="text-align: left">integer</td><td style="text-align: left">The minimum value of the counter. The default value is 1.</td></tr>
<tr><td style="text-align: left">max</td><td style="text-align: left">integer</td><td style="text-align: left">The maximum value of the counter. Once this values is reached older archives will be deleted on subsequent rollovers. The default value is 7.</td></tr>
<tr><td style="text-align: left">compressionLevel</td><td style="text-align: left">integer</td><td style="text-align: left">Sets the compression level, 0-9, where 0 = none, 1 = best speed, through 9 = best compression. Only implemented for ZIP files.</td></tr>
<tr><td style="text-align: left">tempCompressedFilePattern</td><td style="text-align: left">String</td><td style="text-align: left">The pattern of the file name of the archived log file during compression.</td></tr>
</tbody></table>
</div>
<h2 id="directwrite-rollover-strategy"><a class="header" href="#directwrite-rollover-strategy">DirectWrite Rollover Strategy</a></h2>
<p>DirectWriteRolloverStrategy 使日志事件直接写入由文件模式表示的文件。</p>
<p>使用此策略不会执行文件重命名。</p>
<p>如果基于大小的触发策略导致在指定时间段内写入多个文件，它们将从 1 开始编号并不断递增，直到发生基于时间的翻转。</p>
<p>警告：如果文件模式有一个表示应该进行压缩的后缀，则当应用程序关闭时，当前文件将不会被压缩。</p>
<p>此外，如果时间改变以致文件模式不再与当前文件匹配，则它也不会在启动时被压缩。</p>
<h3 id="parameters-4"><a class="header" href="#parameters-4">Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">maxFiles</td><td style="text-align: left">String</td><td style="text-align: left">The maximum number of files to allow in the time period matching the file pattern. If the number of files is exceeded the oldest file will be deleted. If specified, the value must be greater than 1. If the value is less than zero or omitted then the number of files will not be limited.</td></tr>
<tr><td style="text-align: left">compressionLevel</td><td style="text-align: left">integer</td><td style="text-align: left">Sets the compression level, 0-9, where 0 = none, 1 = best speed, through 9 = best compression. Only implemented for ZIP files.</td></tr>
<tr><td style="text-align: left">tempCompressedFilePattern</td><td style="text-align: left">String</td><td style="text-align: left">The pattern of the file name of the archived log file during compression.</td></tr>
</tbody></table>
</div>
<p>下面是一个示例配置，它使用具有基于时间和大小的触发策略的 RollingFileAppender，将在同一天 (1-7) 创建多达 7 个存档，这些存档存储在基于当前年和月的目录中，并将</p>
<p>使用 gzip 压缩每个存档：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot;
                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;
      &lt;/PatternLayout&gt;
      &lt;Policies&gt;
        &lt;TimeBasedTriggeringPolicy /&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;

</code></pre>
<p>第二个示例显示了一个翻转策略，该策略将在删除之前最多保留 20 个文件。</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot;
                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;
      &lt;/PatternLayout&gt;
      &lt;Policies&gt;
        &lt;TimeBasedTriggeringPolicy /&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
      &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<p>下面是一个示例配置，它使用具有基于时间和大小的触发策略的 RollingFileAppender，将在同一天 (1-7) 创建多达 7 个存档，这些存档存储在基于当前年和月的目录中，并将</p>
<p>使用 gzip 压缩每个存档，当小时可被 6 整除时，将每 6 小时滚动一次：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot;
                 filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;
      &lt;/PatternLayout&gt;
      &lt;Policies&gt;
        &lt;TimeBasedTriggeringPolicy interval=&quot;6&quot; modulate=&quot;true&quot;/&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<p>此示例配置使用具有基于 cron 和大小的触发策略的 RollingFileAppender，并直接写入无限数量的存档文件。 </p>
<p>cron 触发器每小时导致一次翻转，而文件大小限制为 250MB</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; filePattern=&quot;logs/app-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;
      &lt;/PatternLayout&gt;
      &lt;Policies&gt;
        &lt;CronTriggeringPolicy schedule=&quot;0 0 * * * ?&quot;/&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<p>此示例配置与前面的相同，但将每小时保存的文件数限制为 10：</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; filePattern=&quot;logs/app-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;
      &lt;PatternLayout&gt;
        &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt;
      &lt;/PatternLayout&gt;
      &lt;Policies&gt;
        &lt;CronTriggeringPolicy schedule=&quot;0 0 * * * ?&quot;/&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
      &lt;DirectWriteRolloverStrategy maxFiles=&quot;10&quot;/&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<h2 id="log-archive-retention-policy"><a class="header" href="#log-archive-retention-policy">Log Archive Retention Policy</a></h2>
<blockquote>
<p>Delete on Rollover</p>
</blockquote>
<p>Log4j-2.5 引入了一个 Delete 操作，与 DefaultRolloverStrategy max 属性相比，它使用户可以更好地控制在翻转时删除哪些文件。</p>
<p>删除操作允许用户配置一个或多个条件来选择相对于基本目录删除的文件。</p>
<p>请注意，可以删除任何文件，而不仅仅是滚动日志文件，因此请谨慎使用此操作！</p>
<p>使用 testMode 参数，您可以测试您的配置，而不会意外删除错误的文件。</p>
<h3 id="parameters-5"><a class="header" href="#parameters-5">Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">basePath</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required.</em> Base path from where to start scanning for files to delete.</td></tr>
<tr><td style="text-align: left">maxDepth</td><td style="text-align: left">int</td><td style="text-align: left">要访问的目录的最大级别数。<br/>值 0 表示仅访问起始文件（基本路径本身），除非被安全管理器拒绝。 <br/>Integer.MAX_VALUE 值表示应该访问所有级别。默认值为 1，表示仅指定基目录中的文件。</td></tr>
<tr><td style="text-align: left">followLinks</td><td style="text-align: left">boolean</td><td style="text-align: left">Whether to follow symbolic links. Default is false.</td></tr>
<tr><td style="text-align: left">testMode</td><td style="text-align: left">boolean</td><td style="text-align: left">如果为 true，则不会删除文件，而是在 INFO 级别将消息打印到 <a href="http://logging.apache.org/log4j/2.x/manual/configuration.html#StatusMessages">状态记录器</a>。</td></tr>
<tr><td style="text-align: left">pathSorter</td><td style="text-align: left">PathSorter</td><td style="text-align: left">实现 <a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/action/PathSorter.html">PathSorter</a><br/>在选择要删除的文件之前对文件进行排序的界面。<br/>默认设置是首先对最近修改的文件进行排序。</td></tr>
<tr><td style="text-align: left">pathConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">如果未指定 ScriptCondition 则为必需 ,一个或多个 PathCondition 元素。如果指定了多个条件，则它们都需要接受条件才能删除, 条件可以嵌套，在这种情况下，仅当外部条件接受路径时才评估内部条件.如果条件不是嵌套的，它们可以按任何顺序进行计算。条件也可以通过使用 IfAll、IfAny 和 IfNot 复合条件与逻辑运算符 AND、OR 和 NOT 组合。.Users can create custom conditions or use the built-in conditions:<a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeleteIfFileName">IfFileName</a> - accepts files whose path (relative to the base path) matches a <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">regular expression</a> or a <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)">glob</a>.<a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeleteIfLastModified">IfLastModified</a> - accepts files that are as old as or older than the specified <a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/action/Duration.html#parseCharSequence">duration</a>.<a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeleteIfAccumulatedFileCount">IfAccumulatedFileCount</a> - accepts paths after some count threshold is exceeded during the file tree walk.<a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeleteIfAccumulatedFileSize">IfAccumulatedFileSize</a> - accepts paths after the accumulated file size threshold is exceeded during the file tree walk.IfAll - accepts a path if all nested conditions accept it (logical AND). Nested conditions may be evaluated in any order.IfAny - accepts a path if one of the nested conditions accept it (logical OR). Nested conditions may be evaluated in any order.IfNot - accepts a path if the nested condition does not accept it (logical NOT).</td></tr>
<tr><td style="text-align: left">scriptCondition</td><td style="text-align: left">ScriptCondition</td><td style="text-align: left"><em>Required if no PathConditions are specified.</em> A ScriptCondition element specifying a script.The ScriptCondition should contain a <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptCondition">Script, ScriptRef or ScriptFile</a> element that specifies the logic to be executed. (See also the <a href="http://logging.apache.org/log4j/2.x/manual/filters.html#Script">ScriptFilter</a> documentation for more examples of configuring ScriptFiles and ScriptRefs.)The script is passed a number of <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#ScriptParameters">parameters</a>, including a list of paths found under the base path (up to maxDepth) and must return a list with the paths to delete.</td></tr>
</tbody></table>
</div>
<h3 id="iffilename-condition-parameters"><a class="header" href="#iffilename-condition-parameters">IfFileName Condition Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">glob</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required if regex not specified.</em> Matches the relative path (relative to the base path) using a limited pattern language that resembles regular expressions but with a <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)">simpler syntax</a>.</td></tr>
<tr><td style="text-align: left">regex</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required if glob not specified.</em> Matches the relative path (relative to the base path) using a regular expression as defined by the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">Pattern</a> class.</td></tr>
<tr><td style="text-align: left">nestedConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">An optional set of nested <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeletePathCondition">PathConditions</a>. If any nested conditions exist they all need to accept the file before it is deleted. Nested conditions are only evaluated if the outer condition accepts a file (if the path name matches).</td></tr>
</tbody></table>
</div>
<h3 id="iflastmodified-condition-parameters"><a class="header" href="#iflastmodified-condition-parameters">IfLastModified Condition Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">age</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required.</em> Specifies a <a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/action/Duration.html#parseCharSequence">duration</a>. The condition accepts files that are as old or older than the specified duration.</td></tr>
<tr><td style="text-align: left">nestedConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">An optional set of nested <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeletePathCondition">PathConditions</a>. If any nested conditions exist they all need to accept the file before it is deleted. Nested conditions are only evaluated if the outer condition accepts a file (if the file is old enough).</td></tr>
</tbody></table>
</div>
<h3 id="ifaccumulatedfilecount-condition-parameters"><a class="header" href="#ifaccumulatedfilecount-condition-parameters">IfAccumulatedFileCount Condition Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">exceeds</td><td style="text-align: left">int</td><td style="text-align: left"><em>Required.</em> The threshold count from which files will be deleted.</td></tr>
<tr><td style="text-align: left">nestedConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">An optional set of nested <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeletePathCondition">PathConditions</a>. If any nested conditions exist they all need to accept the file before it is deleted. Nested conditions are only evaluated if the outer condition accepts a file (if the threshold count has been exceeded).</td></tr>
</tbody></table>
</div>
<h3 id="ifaccumulatedfilesize-condition-parameters"><a class="header" href="#ifaccumulatedfilesize-condition-parameters">IfAccumulatedFileSize Condition Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">exceeds</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required.</em> The threshold accumulated file size from which files will be deleted. The size can be specified in bytes, with the suffix KB, MB or GB, for example 20MB.</td></tr>
<tr><td style="text-align: left">nestedConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">An optional set of nested <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeletePathCondition">PathConditions</a>. If any nested conditions exist they all need to accept the file before it is deleted. Nested conditions are only evaluated if the outer condition accepts a file (if the threshold accumulated file size has been exceeded).</td></tr>
</tbody></table>
</div>
<p>下面是一个示例配置，它使用 RollingFileAppender 和配置为每天午夜触发的 cron 触发策略。</p>
<p>档案存储在基于当前年份和月份的目录中。</p>
<p>基目录下与“<em>/app-</em>.log.gz”glob 匹配且存在于 60 天或更旧的所有文件将在翻转时被删除。</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Properties&gt;
    &lt;Property name=&quot;baseDir&quot;&gt;logs&lt;/Property&gt;
  &lt;/Properties&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${baseDir}/app.log&quot;
          filePattern=&quot;${baseDir}/$${date:yyyy-MM}/app-%d{yyyy-MM-dd}.log.gz&quot;&gt;
      &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;
      &lt;CronTriggeringPolicy schedule=&quot;0 0 0 * * ?&quot;/&gt;
      &lt;DefaultRolloverStrategy&gt;
        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;
          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot; /&gt;
          &lt;IfLastModified age=&quot;60d&quot; /&gt;
        &lt;/Delete&gt;
      &lt;/DefaultRolloverStrategy&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<p>下面是一个示例配置，它使用具有基于时间和大小的触发策略的 RollingFileAppender，将在同一天 (1-100) 创建多达 100 个存档，这些存档存储在基于当前年和月的目录中，并将</p>
<p>使用 gzip 压缩每个存档，并将每小时滚动一次。</p>
<p>在每次翻转期间，此配置将删除与“<em>/app-</em>.log.gz”匹配且 30 天或更旧的文件，但保留最近的 100 GB 或最近的 10 个文件，以先到者为准。</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Properties&gt;
    &lt;Property name=&quot;baseDir&quot;&gt;logs&lt;/Property&gt;
  &lt;/Properties&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${baseDir}/app.log&quot;
          filePattern=&quot;${baseDir}/$${date:yyyy-MM}/app-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;&gt;
      &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;
      &lt;Policies&gt;
        &lt;TimeBasedTriggeringPolicy /&gt;
        &lt;SizeBasedTriggeringPolicy size=&quot;250 MB&quot;/&gt;
      &lt;/Policies&gt;
      &lt;DefaultRolloverStrategy max=&quot;100&quot;&gt;
        &lt;!--
        Nested conditions: the inner condition is only evaluated on files
        for which the outer conditions are true.
        --&gt;
        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;
          &lt;IfFileName glob=&quot;*/app-*.log.gz&quot;&gt;
            &lt;IfLastModified age=&quot;30d&quot;&gt;
              &lt;IfAny&gt;
                &lt;IfAccumulatedFileSize exceeds=&quot;100 GB&quot; /&gt;
                &lt;IfAccumulatedFileCount exceeds=&quot;10&quot; /&gt;
              &lt;/IfAny&gt;
            &lt;/IfLastModified&gt;
          &lt;/IfFileName&gt;
        &lt;/Delete&gt;
      &lt;/DefaultRolloverStrategy&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<h3 id="scriptcondition-parameters"><a class="header" href="#scriptcondition-parameters">ScriptCondition Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">script</td><td style="text-align: left">Script, ScriptFile or ScriptRef</td><td style="text-align: left">The Script element that specifies the logic to be executed. The script is passed a list of paths found under the base path and must return the paths to delete as a java.util.List&lt;<a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/action/PathWithAttributes.html">PathWithAttributes</a>&gt;. See also the <a href="http://logging.apache.org/log4j/2.x/manual/filters.html#Script">ScriptFilter</a> documentation for an example of how ScriptFiles and ScriptRefs can be configured.</td></tr>
</tbody></table>
</div>
<h3 id="script-parameters"><a class="header" href="#script-parameters">Script Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">basePath</td><td style="text-align: left">java.nio.file.Path</td><td style="text-align: left">The directory from where the Delete action started scanning for files to delete. Can be used to relativize the paths in the pathList.</td></tr>
<tr><td style="text-align: left">pathList</td><td style="text-align: left">java.util.List&lt;<a href="http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/action/PathWithAttributes.html">PathWithAttributes</a>&gt;</td><td style="text-align: left">The list of paths found under the base path up to the specified max depth, sorted most recently modified files first. The script is free to modify and return this list.</td></tr>
<tr><td style="text-align: left">statusLogger</td><td style="text-align: left">StatusLogger</td><td style="text-align: left">The StatusLogger that can be used to log internal events during script execution.</td></tr>
<tr><td style="text-align: left">configuration</td><td style="text-align: left">Configuration</td><td style="text-align: left">The Configuration that owns this ScriptCondition.</td></tr>
<tr><td style="text-align: left">substitutor</td><td style="text-align: left">StrSubstitutor</td><td style="text-align: left">The StrSubstitutor used to replace lookup variables.</td></tr>
<tr><td style="text-align: left">?</td><td style="text-align: left">String</td><td style="text-align: left">Any properties declared in the configuration.</td></tr>
</tbody></table>
</div>
<p>下面是一个示例配置，它使用 RollingFileAppender 和配置为每天午夜触发的 cron 触发策略。</p>
<p>档案存储在基于当前年份和月份的目录中。</p>
<p>该脚本返回日期为 13 日星期五的基本目录下的滚动文件列表。</p>
<p>删除操作将删除脚本返回的所有文件。</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;trace&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Properties&gt;
    &lt;Property name=&quot;baseDir&quot;&gt;logs&lt;/Property&gt;
  &lt;/Properties&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${baseDir}/app.log&quot;
          filePattern=&quot;${baseDir}/$${date:yyyy-MM}/app-%d{yyyyMMdd}.log.gz&quot;&gt;
      &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;
      &lt;CronTriggeringPolicy schedule=&quot;0 0 0 * * ?&quot;/&gt;
      &lt;DefaultRolloverStrategy&gt;
        &lt;Delete basePath=&quot;${baseDir}&quot; maxDepth=&quot;2&quot;&gt;
          &lt;ScriptCondition&gt;
            &lt;Script name=&quot;superstitious&quot; language=&quot;groovy&quot;&gt;&lt;![CDATA[
                import java.nio.file.*;
 
                def result = [];
                def pattern = ~/\d*\/app-(\d*)\.log\.gz/;
 
                pathList.each { pathWithAttributes -&gt;
                  def relative = basePath.relativize pathWithAttributes.path
                  statusLogger.trace 'SCRIPT: relative path=' + relative + &quot; (base=$basePath)&quot;;
 
                  // remove files dated Friday the 13th
 
                  def matcher = pattern.matcher(relative.toString());
                  if (matcher.find()) {
                    def dateString = matcher.group(1);
                    def calendar = Date.parse(&quot;yyyyMMdd&quot;, dateString).toCalendar();
                    def friday13th = calendar.get(Calendar.DAY_OF_MONTH) == 13 \
                                  &amp;&amp; calendar.get(Calendar.DAY_OF_WEEK) == Calendar.FRIDAY;
                    if (friday13th) {
                      result.add pathWithAttributes;
                      statusLogger.trace 'SCRIPT: deleting path ' + pathWithAttributes;
                    }
                  }
                }
                statusLogger.trace 'SCRIPT: returning ' + result;
                result;
              ]] &gt;
            &lt;/Script&gt;
          &lt;/ScriptCondition&gt;
        &lt;/Delete&gt;
      &lt;/DefaultRolloverStrategy&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;
</code></pre>
<h2 id="log-archive-file-attribute-view-policy"><a class="header" href="#log-archive-file-attribute-view-policy">Log Archive File Attribute View Policy</a></h2>
<blockquote>
<p>Custom file attribute on Rollover</p>
</blockquote>
<p>og4j-2.9 引入了 PosixViewAttribute 操作，使用户可以更好地控制应应用哪些文件属性权限、所有者和组。 </p>
<p>PosixViewAttribute 操作允许用户配置一个或多个条件来选择相对于基目录的合格文件。</p>
<h3 id="posixviewattribute-parameters"><a class="header" href="#posixviewattribute-parameters">PosixViewAttribute Parameters</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter Name</th><th style="text-align: left">Type</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">basePath</td><td style="text-align: left">String</td><td style="text-align: left"><em>Required.</em> Base path from where to start scanning for files to apply attributes.</td></tr>
<tr><td style="text-align: left">maxDepth</td><td style="text-align: left">int</td><td style="text-align: left">The maximum number of levels of directories to visit. A value of 0 means that only the starting file (the base path itself) is visited, unless denied by the security manager. A value of Integer.MAX_VALUE indicates that all levels should be visited. The default is 1, meaning only the files in the specified base directory.</td></tr>
<tr><td style="text-align: left">followLinks</td><td style="text-align: left">boolean</td><td style="text-align: left">Whether to follow symbolic links. Default is false.</td></tr>
<tr><td style="text-align: left">pathConditions</td><td style="text-align: left">PathCondition[]</td><td style="text-align: left">see <a href="http://logging.apache.org/log4j/2.x/manual/appenders.html#DeletePathCondition">DeletePathCondition</a></td></tr>
<tr><td style="text-align: left">filePermissions</td><td style="text-align: left">String</td><td style="text-align: left">File attribute permissions in POSIX format to apply when action is executed.Underlying files system shall support <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributeView.html">POSIX</a> file attribute view.Examples: rw------- or rw-rw-rw- etc...</td></tr>
<tr><td style="text-align: left">fileOwner</td><td style="text-align: left">String</td><td style="text-align: left">File owner to define when action is executed.Changing file's owner may be restricted for security reason and Operation not permitted IOException thrown. Only processes with an effective user ID equal to the user ID of the file or with appropriate privileges may change the ownership of a file if <a href="http://www.gnu.org/software/libc/manual/html_node/Options-for-Files.html">_POSIX_CHOWN_RESTRICTED</a> is in effect for path.Underlying files system shall support file <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileOwnerAttributeView.html">owner</a> attribute view.</td></tr>
<tr><td style="text-align: left">fileGroup</td><td style="text-align: left">String</td><td style="text-align: left">File group to define when action is executed.Underlying files system shall support <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/PosixFileAttributeView.html">POSIX</a> file attribute view.</td></tr>
</tbody></table>
</div>
<p>以下是使用 RollingFileAppender 并为当前和滚动日志文件定义不同 POSIX 文件属性视图的示例配置。</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Configuration status=&quot;trace&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;
  &lt;Properties&gt;
    &lt;Property name=&quot;baseDir&quot;&gt;logs&lt;/Property&gt;
  &lt;/Properties&gt;
  &lt;Appenders&gt;
    &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;${baseDir}/app.log&quot;
          		 filePattern=&quot;${baseDir}/$${date:yyyy-MM}/app-%d{yyyyMMdd}.log.gz&quot;
                 filePermissions=&quot;rw-------&quot;&gt;
      &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;
      &lt;CronTriggeringPolicy schedule=&quot;0 0 0 * * ?&quot;/&gt;
      &lt;DefaultRolloverStrategy stopCustomActionsOnError=&quot;true&quot;&gt;
        &lt;PosixViewAttribute basePath=&quot;${baseDir}/$${date:yyyy-MM}&quot; filePermissions=&quot;r--r--r--&quot;&gt;
        	&lt;IfFileName glob=&quot;*.gz&quot; /&gt;
        &lt;/PosixViewAttribute&gt;
      &lt;/DefaultRolloverStrategy&gt;
    &lt;/RollingFile&gt;
  &lt;/Appenders&gt;
 
  &lt;Loggers&gt;
    &lt;Root level=&quot;error&quot;&gt;
      &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
 
&lt;/Configuration&gt;
</code></pre>
<script src="/note/java/infisearch_assets/search-ui.chinese.bundle.js" type="text/javascript" charset="utf-8"></script>
<script src="/note/java/infisearch_assets/mark.min.js" type="text/javascript" charset="utf-8"></script>
<script>
const base_url = '/note/java/';
const mode = 'target';
infisearch.init({
  searcherOptions: {
    url: base_url + 'infisearch_output/',
  },
  uiOptions: {
    mode,
    dropdownAlignment: 'bottom-start',
    target: document.getElementById('infisearch-mdbook-target'),
    fsButtonPlaceholder: 'Search',
    sourceFilesUrl: base_url,
    resultsRenderOpts: {
      searchedTermsParam: 'search',
    },
    multiSelectFilters: [
      { fieldName: 'partTitle', displayName: 'Section', defaultOptName: 'None' },
    ],
  },
});

document.getElementById('infi-search').addEventListener('keydown', (ev) => {
  if (['ArrowLeft', 'ArrowRight'].includes(ev.key)) {
    ev.stopPropagation(); // used in global listener to change pages
    return;
  }
});

if (window.location.search) {
  // Adapted from the original searcher.js for mdbook
  // https://github.com/rust-lang/mdBook/blob/master/src/theme/searcher/searcher.js
  const target = document.getElementById('content');
  const marker = new Mark(target);

  function doSearchOrMarkFromUrl() {
    // Check current URL for search request
    var url = new URL(window.location.href);
    var urlParams = new URLSearchParams(url.search);

    if (urlParams.has('search')) {
      var words = JSON.parse(decodeURIComponent(urlParams.get('search')));
      marker.mark(words);

      var markers = document.querySelectorAll('mark');
      function hide() {
        for (var i = 0; i < markers.length; i++) {
          markers[i].classList.add('fade-out');
          window.setTimeout(function () { marker.unmark(); }, 300);
        }
      }
      for (var i = 0; i < markers.length; i++) {
        markers[i].addEventListener('click', hide);
      }
    }
  }
  doSearchOrMarkFromUrl();
}
</script>
<p><span data-infisearch-part-title=""></span></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../19.日志/log4j2/appenders/RewriteAppender.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../19.日志/log4j2/appenders/RollingRandomAccessFileAppender.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../19.日志/log4j2/appenders/RewriteAppender.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../19.日志/log4j2/appenders/RollingRandomAccessFileAppender.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>



        <script src="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/clipboard.min.js"></script>
        <script src="https://xjq-note.oss-cn-hangzhou.aliyuncs.com/highlight.js"></script>
        <script src="/note/book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>